# ONA - ูุธุงู ุฅุฏุงุฑุฉ ุงูุดูุงูู ุงูุงุญุชุฑุงูู

## ๐ ูุธุงู ุฃูุงู ูุชุทูุฑ

ุชุทุจูู ููุจ ุงุญุชุฑุงูู ูุฅุฏุงุฑุฉ ุดูุงูู ุงูููุงุทููู ุจูุนุงููุฑ ุฃูุงู ุนุงููุฉ ุฌุฏุงู:

### โ ุงูููุฒุงุช ุงูุฃูููุฉ:
1. **ุชุดููุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช** - ุฌููุน ุงูุฃุณูุงุก ูุงูููุงุชู ูุดูุฑุฉ
2. **Authentication ุขูู** - ูููุงุช ูุฑูุฑ ูุญููุฉ ุจู PBKDF2
3. **HTTPS ู SSL/TLS** - ุชุดููุฑ ุงูุงุชุตุงูุงุช
4. **ุญูุงูุฉ CSRF** - ุถุฏ ูุฌูุงุช Cross-Site Request Forgery
5. **ุญูุงูุฉ XSS** - ุถุฏ ูุฌูุงุช Injection
6. **Session Security** - ุฌูุณุงุช ุขููุฉ ูุขููุฉ ุงูููููุฒ
7. **Audit Logs** - ุณุฌู ุชุฏููู ุดุงูู ููู ุงูุนูููุงุช
8. **Role-Based Access** - ุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ (Admin / Center Manager)

---

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### 1. ุชุซุจูุช ุงููุชุทูุจุงุช:
```bash
pip install -r requirements.txt
```

### 2. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ (.env):
```
SECRET_KEY=your-very-secret-key-change-this-in-production-12345
ENCRYPTION_KEY=your-encryption-key-change-this-in-production-abcdef
FLASK_ENV=production
DEBUG=False
```

**โ๏ธ ููู: ุบููุฑ ูุฐู ุงูููุงุชูุญ ูุจู ุงููุดุฑ ุนูู ุงูุฅูุชุฑูุช!**

### 3. ุชุดุบูู ุงูุชุทุจูู:
```bash
python app.py
```

ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:5000`

---

## ๐ฅ ุญุณุงุจุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

### ุญุณุงุจ ุงูุฅุฏุงุฑุฉ:
- **ุงุณู ุงููุณุชุฎุฏู:** admin
- **ูููุฉ ุงููุฑูุฑ:** admin123

โ๏ธ **ูุฌุจ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑุงู ุนูุฏ ุงูุชุดุบูู ุงูุฃูู!**

---

## ๐ ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ

### 1๏ธโฃ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ุงูููุงุทููู)
- **ุงูุฑุงุจุท:** `http://localhost:5000/`
- **ุงูููุฒุงุช:**
  - ูููุฐุฌ ุฅุฑุณุงู ุงูุดูุงูู
  - ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
  - ุฑูู ุชุชุจุน ูุฑูุฏ ููู ุดููู

### 2๏ธโฃ ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ
- **ุงูุฑุงุจุท:** `http://localhost:5000/admin`
- **ุงูููุฒุงุช:**
  - ุนุฑุถ ุฌููุน ุงูุดูุงูู
  - ุจุญุซ ููุฑุฒ ูุชูุฏู
  - ุชุญุฏูุซ ุญุงูุงุช ุงูุดูุงูู
  - ุฅุญุตุงุฆูุงุช ุดุงููุฉ
  - ุณุฌู ุงูุชุฏููู ุงูุฃููู

### 3๏ธโฃ ููุญุฉ ุชุญูู ุฃููู ุงููุฑูุฒ
- **ุงูุฑุงุจุท:** `http://localhost:5000/center/<center_id>`
- **ุงูููุฒุงุช:**
  - ุนุฑุถ ุดูุงูู ุงููุฑูุฒ ููุท
  - ุชุญุฏูุซ ุงูุญุงูุฉ ูุงูููุงุญุธุงุช
  - ุฅุญุตุงุฆูุงุช ุงููุฑูุฒ

---

## ๐๏ธ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู ุงููุณุชุฎุฏููู (users):
```sql
id, username, password_hash, email, role, 
center_id, is_active, created_at, last_login
```

### ุฌุฏูู ุงูุดูุงูู (complaints):
```sql
id, tracking_id, name_encrypted, phone_encrypted,
commune, complaint_type, problem_description,
status, assigned_to, notes, center_id,
created_at, updated_at, resolved_at
```

### ุฌุฏูู ุณุฌู ุงูุชุฏููู (audit_logs):
```sql
id, user_id, action, entity_type, entity_id,
changes, ip_address, timestamp
```

---

## ๐ ุฅุฌุฑุงุกุงุช ุงูุฃูุงู ุงูููุตู ุจูุง

### ุนูุฏ ุงููุดุฑ ุนูู ุงูุฅูุชุฑูุช:

1. **ุชูุนูู HTTPS:**
   ```python
   app.run(ssl_context='adhoc')  # ุฃู ุงุณุชุฎุฏุงู ุดูุงุฏุฉ SSL ุญููููุฉ
   ```

2. **ุชุบููุฑ ุฌููุน ุงูููุงุชูุญ ุงูุณุฑูุฉ:**
   ```
   SECRET_KEY = os.urandom(32).hex()
   ENCRYPTION_KEY = Fernet.generate_key()
   ```

3. **ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช ุงุญุชุฑุงููุฉ:**
   ```
   DATABASE_URL=postgresql://user:pass@localhost/ona_db
   ```

4. **ุชูุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ููููุฉ:**
   ```bash
   mkdir -p backups
   python backup_db.py
   ```

5. **ูุฑุงูุจุฉ ุณุฌู ุงูุชุฏููู:**
   - ุชููุฏ `/admin` ุจุงูุชุธุงู
   - ุงุจุญุซ ุนู ูุญุงููุงุช ุชุณุฌูู ุฏุฎูู ูุงุดูุฉ
   - ุฑุงูุจ ุงูุชุบููุฑุงุช ุนูู ุงูุจูุงูุงุช ุงููููุฉ

6. **ุชุญุฏูุซุงุช ุฃูููุฉ:**
   ```bash
   pip install --upgrade flask werkzeug cryptography
   ```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### ููุญุฉ ุงููุนูููุงุช ุชูุนุฑุถ:
- โ ุฅุฌูุงูู ุงูุดูุงูู
- โ ุงูุดูุงูู ุงูุฌุฏูุฏุฉ
- โ ุงูุดูุงูู ููุฏ ุงููุนุงูุฌุฉ
- โ ุงูุดูุงูู ุงููุญูููุฉ

### ุณุฌู ุงูุชุฏููู ูุชุงุจุน:
- โ ูู ุฏุฎู ููุชู
- โ ูู ุชุบููุฑ ูู ุงูุจูุงูุงุช
- โ ุนููุงู IP ููู ูุนู
- โ ูุญุงููุงุช ุงูุชุณุฌูู ุงููุงุดูุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูุนูู ุงูุชุทุจูู
**ุงูุญู:**
```bash
python app.py --debug
```

### ุงููุดููุฉ: ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู:**
```bash
rm ona_complaints.db  # ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช
python app.py  # ุณุชูุนุงุฏ ุฅูุดุงุคูุง
```

### ุงููุดููุฉ: ูุณูุช ูููุฉ ุงููุฑูุฑ
**ุงูุญู:**
```python
from app import app, db, User
with app.app_context():
    admin = User.query.filter_by(username='admin').first()
    admin.set_password('newpassword')
    db.session.commit()
```

---

## ๐ข ุงูุฏุนู ูุงูุชุทููุฑ

ููุญุตูู ุนูู ูุณุงุนุฏุฉ ุฃู ุฅุถุงูุฉ ููุฒุงุช:
1. ุชููุฏ ุงูุฃุฎุทุงุก ูู `/api/audit-logs`
2. ุชุญูู ูู ุงููููุงุช ุงูููุฌูุฉ
3. ุงุชุตู ุจูุฑูู ุงูุชุทููุฑ

---

## ๐ ุงููููุงุช ุงููููุฉ

```
ONA_App/
โโโ app.py                    # ุชุทุจูู Flask ุงูุฑุฆูุณู
โโโ models.py                 # ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ requirements.txt          # ุงููุชุทูุจุงุช
โโโ .env                      # ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ templates/
โ   โโโ index.html           # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ login.html           # ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ admin_dashboard.html # ููุญุฉ ุงูุฅุฏุงุฑุฉ
โ   โโโ center_dashboard.html # ููุญุฉ ุงููุฑูุฒ
โ   โโโ audit_logs.html      # ุณุฌู ุงูุชุฏููู
โโโ instance/
    โโโ ona_complaints.db    # ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

**๐ ูู ุจูุงูุงุชู ูุญููุฉ ูุขููุฉ!**
